# =============================================================================
# MediRemind Backend Configuration Template
# Copy this file to .env and fill in your actual values
# =============================================================================

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_NAME=MediRemind
APP_VERSION=1.0.0
DEBUG=false
LOG_LEVEL=INFO
ENVIRONMENT=development

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
# Generate a secure secret key: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your_secret_key_here
JWT_SECRET_KEY=your_jwt_secret_key_here
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# =============================================================================
# DATABASE CONFIGURATION (SUPABASE)
# =============================================================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your_supabase_anon_key
SUPABASE_SERVICE_KEY=your_supabase_service_role_key

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_URL=redis://default:oE1Gh8TkVwGkuihbKt43XrQeZVTLbl4p@redis-12735.crce204.eu-west-2-3.ec2.redns.redis-cloud.com:12735/0
REDIS_PASSWORD=oE1Gh8TkVwGkuihbKt43XrQeZVTLbl4p
REDIS_MAX_CONNECTIONS=20
REDIS_RETRY_ON_TIMEOUT=true

# =============================================================================
# NOTIFICATION SERVICES
# =============================================================================


# SendGrid Email Configuration
SENDGRID_API_KEY=your_sendgrid_api_key
SENDGRID_FROM_EMAIL=noreply@yourdomain.com
SENDGRID_FROM_NAME=MediRemind
SENDGRID_TEMPLATE_ID=your_template_id

# Firebase Cloud Messaging (Push Notifications)
FCM_SERVER_KEY=your_fcm_server_key
FCM_PROJECT_ID=your_firebase_project_id
FCM_PRIVATE_KEY_ID=your_private_key_id
FCM_PRIVATE_KEY=your_private_key
FCM_CLIENT_EMAIL=your_service_account_email
FCM_CLIENT_ID=your_client_id
FCM_AUTH_URI=https://accounts.google.com/o/oauth2/auth
FCM_TOKEN_URI=https://oauth2.googleapis.com/token

# Alternative Email Provider (SMTP)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password
SMTP_USE_TLS=true

# =============================================================================
# CLOUD STORAGE (FOR BACKUPS)
# =============================================================================

# AWS S3 Configuration
AWS_ACCESS_KEY_ID=your_aws_access_key_id
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key
AWS_S3_BUCKET=your_s3_bucket_name
AWS_S3_REGION=us-east-1

# Azure Blob Storage Configuration
AZURE_STORAGE_CONNECTION_STRING=your_azure_connection_string
AZURE_CONTAINER_NAME=your_container_name

# Google Cloud Storage Configuration
GOOGLE_CLOUD_PROJECT_ID=your_gcp_project_id
GOOGLE_CLOUD_STORAGE_BUCKET=your_gcs_bucket_name
GOOGLE_APPLICATION_CREDENTIALS=path/to/service-account-key.json

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================
MAX_WORKERS=10
WORKER_TIMEOUT=300
CACHE_TTL=3600
BATCH_SIZE=100
MAX_RETRIES=3
RETRY_DELAY=5
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================
PROMETHEUS_PORT=8001
PROMETHEUS_ENABLED=true
HEALTH_CHECK_INTERVAL=30
METRICS_ENABLED=true
TRACING_ENABLED=false

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_FORMAT=json
LOG_FILE_PATH=logs/app.log
LOG_MAX_SIZE=10MB
LOG_BACKUP_COUNT=5
LOG_ROTATION=daily

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST=20

# =============================================================================
# CELERY CONFIGURATION
# =============================================================================
CELERY_BROKER_URL=redis://default:oE1Gh8TkVwGkuihbKt43XrQeZVTLbl4p@redis-12735.crce204.eu-west-2-3.ec2.redns.redis-cloud.com:12735/0
CELERY_RESULT_BACKEND=redis://default:oE1Gh8TkVwGkuihbKt43XrQeZVTLbl4p@redis-12735.crce204.eu-west-2-3.ec2.redns.redis-cloud.com:12735/0
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=true
CELERY_WORKER_CONCURRENCY=4
CELERY_WORKER_MAX_TASKS_PER_CHILD=1000
CELERY_TASK_SOFT_TIME_LIMIT=300
CELERY_TASK_TIME_LIMIT=600

# =============================================================================
# NOTIFICATION SCHEDULING
# =============================================================================
DEFAULT_REMINDER_HOURS=24,2
MAX_REMINDER_ATTEMPTS=3
REMINDER_RETRY_INTERVAL=60
NOTIFICATION_QUEUE_SIZE=1000
PRIORITY_QUEUE_ENABLED=true

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_COMPRESSION=true
BACKUP_ENCRYPTION=true
BACKUP_ENCRYPTION_KEY=your_backup_encryption_key

# Field-level encryption for sensitive patient data
FIELD_ENCRYPTION_KEY=ZmDfcTF7_60GrrY167zsiPd67pEvs0aGOv2oasOM1Pg=

# =============================================================================
# SCALING CONFIGURATION
# =============================================================================
AUTO_SCALING_ENABLED=true
MIN_WORKERS=2
MAX_WORKERS=20
SCALE_UP_THRESHOLD=80
SCALE_DOWN_THRESHOLD=20
SCALE_CHECK_INTERVAL=60

# =============================================================================
# MICROSERVICES CONFIGURATION
# =============================================================================
MICROSERVICES_ENABLED=false
SERVICE_REGISTRY_URL=http://localhost:8500
SERVICE_DISCOVERY_ENABLED=false
LOAD_BALANCER_STRATEGY=round_robin

# =============================================================================
# DISTRIBUTED ARCHITECTURE
# =============================================================================
DISTRIBUTED_MODE=false
CLUSTER_NODES=localhost:8000
REPLICATION_FACTOR=3
CONSISTENCY_LEVEL=quorum
HEARTBEAT_INTERVAL=30
FAILURE_DETECTION_TIMEOUT=90

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================
TEST_DATABASE_URL=postgresql://test_user:test_pass@localhost:5432/test_db
TEST_REDIS_URL=redis://localhost:6379/1
TEST_TIMEOUT=30
TEST_PARALLEL=true
TEST_COVERAGE_THRESHOLD=80

# =============================================================================
# DEVELOPMENT TOOLS
# =============================================================================
# Flower (Celery monitoring)
FLOWER_USER=admin
FLOWER_PASSWORD=admin
FLOWER_PORT=5555

# Grafana
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin

# =============================================================================
# EXTERNAL INTEGRATIONS
# =============================================================================
# Webhook URLs for external notifications
WEBHOOK_URL=https://your-webhook-endpoint.com/notify
WEBHOOK_SECRET=your_webhook_secret
WEBHOOK_TIMEOUT=30

# Slack Integration
SLACK_BOT_TOKEN=xoxb-your-slack-bot-token
SLACK_CHANNEL=#notifications

# Microsoft Teams Integration
TEAMS_WEBHOOK_URL=https://your-teams-webhook-url

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
CORS_ORIGINS=http://localhost:3000,https://yourdomain.com
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=*

# =============================================================================
# SSL/TLS CONFIGURATION
# =============================================================================
SSL_ENABLED=false
SSL_CERT_PATH=ssl/cert.pem
SSL_KEY_PATH=ssl/key.pem
SSL_CA_CERTS=ssl/ca-certs.pem

# =============================================================================
# FEATURE FLAGS
# =============================================================================
FEATURE_SMART_SCHEDULING=true
FEATURE_ML_OPTIMIZATION=false
FEATURE_ANALYTICS=true
FEATURE_A_B_TESTING=false
FEATURE_MULTI_TENANT=false
FEATURE_REAL_TIME_NOTIFICATIONS=true

# =============================================================================
# LOCALIZATION
# =============================================================================
DEFAULT_LANGUAGE=en
SUPPORTED_LANGUAGES=en,es,fr,de
TIMEZONE=UTC
DATE_FORMAT=%Y-%m-%d
TIME_FORMAT=%H:%M:%S

# =============================================================================
# COMPLIANCE & PRIVACY
# =============================================================================
GDPR_COMPLIANCE=true
HIPAA_COMPLIANCE=true
DATA_RETENTION_DAYS=2555  # 7 years
PII_ENCRYPTION=true
AUDIT_LOGGING=true

# =============================================================================
# CUSTOM SETTINGS
# =============================================================================
# Add your custom environment variables here
# CUSTOM_SETTING_1=value1
# CUSTOM_SETTING_2=value2